# 1.计算机网络体系结构

## 1.1.OSI模型

`OSI`是`Open System Interconnection`，开放系统互联。

**`OSI`七层模型：**

- 7应用层(Application)：能够产生网络流量能够和用户交互的应用程序。

- 6表示层(Presentation)：数据加密压缩？ (开发人员需要考虑的问题）。

- 5会话层(Session)：服务和客户端建立的会话 (查木马 netstat -nb)。

- 4运输层(Transport): 可靠传输(建立会话)、不可靠传输(不建立会话)、流量控制。

- 3网络层(Network)：IP地址编址 选择最佳路径。

- 2数据链路层(Data Link)：数据如何封装 添加物理层地址(MAC地址)。

- 1物理层(Physical)：电压 接口标准。

程序开发人员需要考虑：应用层、表示层、会话层。

网络工程师需要考虑：运输层、网络层、数据链路层、物理层。



进行网络排错时：要从低层向高层来排错。



## 1.2.TCP/IP模型

**`TCP/IP`五层模型：**

- 5应用层(Appplication)：传输数据单元。

- 4运输层(Transport)：运输层报文。

- 3网络层(Network)：IP数据报(IP分组)。

- 2数据链路层(Data Link)：数据帧。

- 1物理层(Physical)：比特流011010101。

  

> TCP/IP协议通信流程

![TCP/IP协议发送数据流程](https://img-blog.csdnimg.cn/20200807223010316.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JyaW5nb18=,size_16,color_FFFFFF,t_70)

# 2.物理层

## 2.1.物理层基本概念

物理层解决如何在连接各种计算机的**传输媒体**上传输**数据比特流**，而不是指具体的传输媒体。

物理层的主要任务描述为：确定与传输媒体的接口的一些特性，即：

- 机械特性：例如接口形状，大小，引线数目。
- 电气特性：例如规定电压范围（-5V到+5V）。
- 功能特性：例如规定-5V表示0，+5V表示1。
- 过程特性：也称规程特性，规定建立连接时各个相关部件的工作步骤。

## 2.2.数据通信基础知识

> 1、典型的数据通信模型

![数据通信模型](https://img-blog.csdnimg.cn/20200807224108424.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JyaW5nb18=,size_16,color_FFFFFF,t_70)

**相关术语：**

- 通信的目的是传送消息。
- 数据(data)：运送消息的实体。
- 信号(signal)：数据的电气的或电磁的表现。
- 模拟信号：代表消息的参数的取值是连续的。
- 数字信号：代表消息的参数的取值是离散的。

# 3.数据链路层

## 3.1.基本概念

**数据链路层的信道类型：**

- **点对点信道。**这种信道使用一对一的点对点通信方式。
- **广播信道。**这种信道使用一对多的广播通信方式，因此过程比较复杂。广播信道上连接的主机很多，因此必须使用专用的共享信道协议来协调这些主机的数据发送。

**链路与数据链路：**

- **链路：**是一条点对点的物理线路段，中间没有任何其他断点。**一条链路只是一条通路的一个组成部分。**
- **数据链路：**除了物理线路外，还必须有通信协议来控制这些数据的传输。若把实现这些协议的硬件和软件加到链路上，就构成了数据链路。**现在最常用的方法是使用适配器（即网卡）来实现这些协议的硬件和软件。一般的适配器都包括了数据链层和物理层这两层的功能。**



**帧：**数据链路层传送的是帧。

**数据链路层像个数字管道：**常常在两个対等的数据链层之间画一个数字管道，而在这条数字管道上传输的数据单位是帧。

![数据链路层传送的是帧](https://img-blog.csdnimg.cn/20200808230959258.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JyaW5nb18=,size_16,color_FFFFFF,t_70)

## 3.2.三个基本问题

> 问题1：封装成帧

**封装成帧：**

- 就是在一段数据前后分别添加首部和尾部,然后就构成了一个帧。确定帧的界限。
- 首部和尾部的一个重要作用就是进行帧定界。

![封装成帧](https://img-blog.csdnimg.cn/20200808234517776.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1JyaW5nb18=,size_16,color_FFFFFF,t_70)



问题：为什么要有帧首部和帧尾部？只有帧首部不行吗？

计算机在接收帧的时候，只有同时收到帧首部和帧尾部才认为这是一个完整的帧，如果只有帧首部或者只有帧尾部，那么接收端计算机会将该帧丢弃，要求发送端计算机重新发送帧。



> 问题2：透明传输





> 问题3：差错控制